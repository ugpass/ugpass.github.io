---
title:      "OpenGL颜色混合" 
date:       2020-07-13
tags:
    - OpenGL 
categories:
    - OpenGL 
---

#### 颜色混合

当深度测试关闭时，新的颜色值简单当覆盖颜色缓冲区中已经存在当其他值。当深度测试打开时，新的颜色片段只有当它们比原来的值更接近裁剪平面时才会替换原来的颜色片段。

如果打开颜色混合，下层的颜色值就不会被清除。

开启/关闭颜色混合
```
glEnable(GL_BLEND);
glDisable(GL_BLEND);
```

目标颜色：已经存在于颜色缓冲区的值。

源颜色：准备进入颜色缓冲区的值。

目标颜色和源颜色的组合方式由混合方程式控制。默认情况下混合方程式为：

```
Cf=(Cs * S) + (Cd * D)
```

`Cf`:最终计算产生的颜色

`Cs`:源颜色

`Cd`:目标颜色

`S和D`分别为源颜色和目标颜色的混合因子

混合因子使用如下函数进行设置
```
glBlendFunc(GLenum S, GLenum D);
```

常用的混合组合为：
```
glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
```