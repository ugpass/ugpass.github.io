---
title:      "shell笔记01" 
date:       2023-08-22
tags:
    - shell
categories:
    - shell
---+ 

### 读取csv文件

```shell
for line in $(cat $1)
do
	echo $line
done

./test.sh test.csv
```



### csv文件截取

取出csv文件第4列，赋值给column1

```
for line in $(cat $1)
do 
	column1=`echo ${line} | cut -d , -f 4`
done

./test.sh test.csv
```



### 字符串截取

1. 截取字文件名后缀

   ```shell
   video_name=20230828.mp4
   str_suffix=${video_name##*.}
   ```

   

2. 字符串长度

   ```shell
   video_name=20230828.mp4
   video_name_len=${#video_name}
   ```

3. 截取字符串后多少位

   ```
   # 从前向后截取
   # ${str:start:length}
   
   video_name=video_name_20230828.mp4
   # 截取video_name
   video_name_start=${video_name:0:10}
   
   # 从后向前截取
   # ${str:0-start:length}
   
   # 截取字符串后12位 20230828.mp4
   video_name_cut=${video_name:0-12:12}
   
   ```

   

4. 判断字符串包含

   ```
   video_name=20230828.mp4
   sub_str=20230828
   res=$(echo $video_name | grep $sub_str)
   if [[ "$res" != "" ]]
   then
   	echo "包含"
   fi
   ```

   